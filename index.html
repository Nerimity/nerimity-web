<!DOCTYPE html>
<html lang="en">
  <head>
    <script>
      const showCrashPopup = (message, stack) => {
        const div = document.createElement("div");
        div.style.cssText = `
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: #ff4d4d;
    color: white;
    padding: 16px 24px;
    border-radius: 8px;
    z-index: 999999;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    font-family: sans-serif;
    max-width: 90%;
    word-break: break-word;
  `;

        div.innerHTML = `
    <div style="font-weight: bold; margin-bottom: 8px;">⚠️ Application Crash</div>
    <div style="font-size: 14px; opacity: 0.9;">${message}</div>
    <button id="close-crash-popup" style="margin-top: 12px; background: rgba(255,255,255,0.2); border: 1px solid white; color: white; cursor: pointer; padding: 4px 8px; border-radius: 4px;">Dismiss</button>
  `;

        document.body.appendChild(div);

        document.getElementById("close-crash-popup").onclick = () =>
          div.remove();
      };

      window.addEventListener("error", (event) => {
        const msg = event.error ? event.error.message : event.message;
        showCrashPopup(msg);
      });

      window.addEventListener("unhandledrejection", (event) => {
        const msg =
          event.reason?.message || event.reason || "Unknown Promise Rejection";
        showCrashPopup(`Promise Error: ${msg}`);
      });
    </script>
    <meta charset="utf-8" />
    <meta
      id="viewport"
      name="viewport"
      content="width=device-width, initial-scale=1, interactive-widget=resizes-content"
    />

    <meta name="title" content="Nerimity" />

    <meta name="theme-color" content="#000000" />
    <meta property="og:title" content="Nerimity" />

    <meta
      name="og:description"
      content="Nerimity is an open source, modern and sleek chat app
               made for everyone with features such as the ability to
               make servers, a lot of customization and a lot more!"
    />

    <meta
      name="description"
      content="Nerimity is an open source, modern and sleek chat app
               made for everyone with features such as the ability to
               make servers, a lot of customization and a lot more!"
    />

    <link rel="manifest" href="/manifest.webmanifest" />

    <link rel="icon" type="image/png" href="/favicon.ico" />
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>

    <script src="/src/index.tsx" type="module"></script>
  </body>
</html>
